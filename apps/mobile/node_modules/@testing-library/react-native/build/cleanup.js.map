{"version":3,"file":"cleanup.js","names":["_screen","require","cleanupQueue","Set","cleanup","clearRenderResult","forEach","fn","clear","cleanupAsync","addToCleanupQueue","add"],"sources":["../src/cleanup.ts"],"sourcesContent":["import { clearRenderResult } from './screen';\n\ntype CleanUpFunction = () => void;\ntype CleanUpFunctionAsync = () => Promise<void>;\n\nconst cleanupQueue = new Set<CleanUpFunction | CleanUpFunctionAsync>();\n\nexport default function cleanup() {\n  clearRenderResult();\n\n  cleanupQueue.forEach((fn) => fn());\n  cleanupQueue.clear();\n}\n\nexport async function cleanupAsync() {\n  clearRenderResult();\n\n  for (const fn of cleanupQueue) {\n    await fn();\n  }\n\n  cleanupQueue.clear();\n}\n\nexport function addToCleanupQueue(fn: CleanUpFunction | CleanUpFunctionAsync) {\n  cleanupQueue.add(fn);\n}\n"],"mappings":";;;;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAKA,MAAMC,YAAY,GAAG,IAAIC,GAAG,CAAyC,CAAC;AAEvD,SAASC,OAAOA,CAAA,EAAG;EAChC,IAAAC,yBAAiB,EAAC,CAAC;EAEnBH,YAAY,CAACI,OAAO,CAAEC,EAAE,IAAKA,EAAE,CAAC,CAAC,CAAC;EAClCL,YAAY,CAACM,KAAK,CAAC,CAAC;AACtB;AAEO,eAAeC,YAAYA,CAAA,EAAG;EACnC,IAAAJ,yBAAiB,EAAC,CAAC;EAEnB,KAAK,MAAME,EAAE,IAAIL,YAAY,EAAE;IAC7B,MAAMK,EAAE,CAAC,CAAC;EACZ;EAEAL,YAAY,CAACM,KAAK,CAAC,CAAC;AACtB;AAEO,SAASE,iBAAiBA,CAACH,EAA0C,EAAE;EAC5EL,YAAY,CAACS,GAAG,CAACJ,EAAE,CAAC;AACtB","ignoreList":[]}